!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("react-dom"),require("glam"),require("raf-schd"),require("react-view-pager"),require("html-react-parser"),require("react-focus-on"),require("react-full-screen"),require("a11y-focus-store"),require("react-transition-group")):"function"==typeof define&&define.amd?define(["react","react-dom","glam","raf-schd","react-view-pager","html-react-parser","react-focus-on","react-full-screen","a11y-focus-store","react-transition-group"],t):(e=e||self).Images=t(e.React,e.ReactDOM,e.glam,e.rafScheduler,e.PageView,e.ParseHtml,e.FocusOn,e.Fullscreen,e.focusStore,e.Transition)}(this,function(d,r,v,s,l,a,i,h,e,u){"use strict";var p="default"in d?d.default:d;v=v&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,h=h&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function g(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var b,x=(b=d.Component,n(w,b),t(w,[{key:"render",value:function(){var e=this.props,t=e.data;return e.interactionIsIdle,this.state.progress,v("div",{css:{backgroundColor:"black",lineHeight:0,marginLeft:"auto",marginRight:"auto",maxWidth:"100%",position:"relative",textAlign:"center"}},v("iframe",{width:"560",height:"315",src:t.videoSrc,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}))}}]),w);function w(){var e,t,r;c(this,w);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=r=m(this,(e=w.__proto__||Object.getPrototypeOf(w)).call.apply(e,[this].concat(o)))).state={paused:!0,progress:0},r.handlePlay=function(){r.setState({paused:!1})},r.handleTimeUpdate=s(function(){var e,t,n=(e={currentTime:r.video.currentTime,duration:r.video.duration},t=e.currentTime,100/e.duration*t);r.setState({progress:n})}),r.handlePause=function(){r.setState({paused:!0})},r.getVideo=function(e){r.video=e},m(r,t)}function F(e){var t=e.css,n=e.innerRef,r=e.tag,o=g(e,["css","innerRef","tag"]);return v(r,y({ref:n,css:y({boxSizing:"border-box"},t)},o))}function P(e){return v(F,y({tag:"button"},e))}function C(e){return v(F,y({tag:"div"},e))}function k(e){return v(F,y({tag:"img"},e))}function I(e){return v(F,y({tag:"nav"},e))}function S(e){return v(F,y({tag:"span"},e))}function O(e,t){var n=Array.isArray(e)?e:[e];if(t&&"string"==typeof e)for(var r in t)t.hasOwnProperty(r)&&t[r]&&n.push(e+"--"+r);return n.map(function(e){return"react-images__"+e}).join(" ")}function z(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}function M(e){var t=e.size,n=g(e,["size"]);return v("svg",y({role:"presentation",viewBox:"0 0 24 24",css:{display:"inline-block",fill:"currentColor",height:t,stroke:"currentColor",strokeWidth:0,width:t}},n))}function E(e){var t=e.size,n=void 0===t?32:t,r=g(e,["size"]);return v(M,y({size:n},r),v("path",{d:"M15.422 16.078l-1.406 1.406-6-6 6-6 1.406 1.406-4.594 4.594z"}))}function N(e){var t=e.size,n=void 0===t?32:t,r=g(e,["size"]);return v(M,y({size:n},r),v("path",{d:"M9.984 6l6 6-6 6-1.406-1.406 4.594-4.594-4.594-4.594z"}))}function _(e){var t=e.size,n=void 0===t?32:t,r=g(e,["size"]);return v(M,y({size:n},r),v("path",{d:"M18.984 6.422l-5.578 5.578 5.578 5.578-1.406 1.406-5.578-5.578-5.578 5.578-1.406-1.406 5.578-5.578-5.578-5.578 1.406-1.406 5.578 5.578 5.578-5.578z"}))}function T(e){var t=e.size,n=void 0===t?32:t,r=g(e,["size"]);return v(M,y({size:n},r),v("path",{d:"M14.016 5.016h4.969v4.969h-1.969v-3h-3v-1.969zM17.016 17.016v-3h1.969v4.969h-4.969v-1.969h3zM5.016 9.984v-4.969h4.969v1.969h-3v3h-1.969zM6.984 14.016v3h3v1.969h-4.969v-4.969h1.969z"}))}function V(e){var t=e.size,n=void 0===t?32:t,r=g(e,["size"]);return v(M,y({size:n},r),v("path",{d:"M15.984 8.016h3v1.969h-4.969v-4.969h1.969v3zM14.016 18.984v-4.969h4.969v1.969h-3v3h-1.969zM8.016 8.016v-3h1.969v4.969h-4.969v-1.969h3zM5.016 15.984v-1.969h4.969v4.969h-1.969v-3h-3z"}))}function j(){return{alignItems:"center",background:0,border:0,color:"rgba(255, 255, 255, 0.75)",cursor:"pointer",display:"inline-flex ",height:44,justifyContent:"center",outline:0,padding:0,position:"relative",width:44,"&:hover":{color:"white"}}}function L(e){var t,n=e.align;return f(t={alignItems:"center",background:"rgba(255, 255, 255, 0.2)",border:0,borderRadius:"50%",color:"white",cursor:"pointer",display:"flex ",fontSize:"inherit",height:50,justifyContent:"center",marginTop:-25,outline:0,position:"absolute",top:"50%",transition:"background-color 200ms",width:50},n,20),f(t,"&:hover",{background:"rgba(255, 255, 255, 0.3)"}),f(t,"&:active",{background:"rgba(255, 255, 255, 0.2)"}),t}var B={Header:"header",Footer:"footer",View:"view",Track:"track",Positioner:"positioner"},D=B.Footer,H=function(e){var t=e.currentView.social;return v(S,{className:"social-links"},v("a",{href:t.fb,target:"_blank",rel:"noreferrer"},v("svg",{height:"50px",viewBox:"0 0 24 24",width:"24"},v("path",{d:"m22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z",fill:"#fff"}))),v("a",{href:t.ig,target:"_blank",rel:"noreferrer"},v("svg",{height:"50px",viewBox:"0 0 24 24",width:"24"},v("path",{d:"m12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948s.014 3.668.072 4.948c.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072s3.668-.014 4.948-.072c4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948s-.014-3.667-.072-4.947c-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z",fill:"#fff"}))),v("a",{href:t.tw,target:"_blank",rel:"noreferrer"},v("svg",{height:"50px",viewBox:"0 0 24 24",width:"24"},v("path",{d:"m24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z",fill:"#fff"}))))},A=B.Header,q=j,R=j,W=L,U=L;function K(e){var n=e.component,t=e.onEntered,r=e.onExited,o=e.in,i=e.innerProps,s=g(e,["component","onEntered","onExited","in","innerProps"]),a={transition:"opacity 200ms",opacity:0},l={entering:{opacity:0},entered:{opacity:1},exiting:{opacity:0,transitionDuration:"500ms"}};return p.createElement(u.Transition,{appear:!0,mountOnEnter:!0,unmountOnExit:!0,onEntered:t,onExited:r,key:"fade",in:o,timeout:{enter:300,exit:500}},function(e){var t=y({},i,{style:y({},a,l[e])});return"exited"===e?null:p.createElement(n,y({innerProps:t},s))})}function G(e){var n=e.component,t=e.onEntered,r=e.onExited,o=e.in,i=e.innerProps,s=g(e,["component","onEntered","onExited","in","innerProps"]),a="translate3d(0, 0, 0)",l={transition:"transform 300ms "+ee+", opacity 300ms "+ee,transform:a},c={entering:{opacity:0,transform:"translate3d(0, 40px, 0) scale(0.9)"},entered:{opacity:1,transform:a},exiting:{opacity:0,transform:"translate3d(0, 40px, 0) scale(0.9)",transition:"transform 500ms "+ee+", opacity 500ms "+ee}};return p.createElement(u.Transition,{appear:!0,in:o,mountOnEnter:!0,onEntered:t,onExited:r,timeout:{enter:300,exit:500},unmountOnExit:!0},function(e){if("exited"===e)return null;var t=y({},i,{style:y({},l,c[e])});return p.createElement(n,y({innerProps:t},s))})}var Y,J=B.View,Q={Container:function(e){var t=e.children,n=e.getStyles,r=e.isFullscreen,o=e.isModal,i=e.innerProps;return v(C,y({css:n("container",e),className:O("container",{isFullscreen:r,isModal:o})},i),t)},Footer:function(e){var t=e.components,n=e.getStyles,r=e.innerProps,o=e.isFullscreen,i=e.isModal,s=i?{background:"linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.33))"}:null,a={isFullscreen:o,isModal:i},l={container:O(D,a),caption:O("footer__caption",a),count:O("footer__count",a)},c={container:n(D,e),caption:n("footerCaption",e),count:n("footerCount",e)},u=t.Caption;t.Count;return v(C,y({css:c.container,className:l.container,style:s},r),v(u,e),v(H,e))},FooterCaption:function(e){var t=e.currentView,n=e.getStyles,r=e.isFullscreen,o=e.isModal,i=t.caption,s={isFullscreen:r,isModal:o};return v(S,{css:n("footerCaption",e),className:O("footer__caption",s)},"string"==typeof i?a("<span>"+i+"</span>"):i)},FooterCount:function(e){var t=e.currentIndex,n=e.getStyles,r={isFullscreen:e.isFullscreen,isModal:e.isModal},o=t+1,i=e.views.length;return o&&i?v(S,{css:n("footerCount",e),className:O("footer__count",r)},o," of ",i):null},FooterSocial:H,Header:function(e){var t=e.components,n=e.getStyles,r=e.getCloseLabel,o=e.getFullscreenLabel,i=e.innerProps,s=e.isModal,a=e.modalProps;if(!s)return null;var l=a.allowFullscreen,c=a.isFullscreen,u=a.onClose,p=a.toggleFullscreen,d=c?V:T,h=t.FooterCount,f=t.CloseButton,g=t.FullscreenButton,m={isFullscreen:c,isModal:s};return v(C,y({css:n(A,e),className:O(A,m),style:{background:"linear-gradient(rgba(0,0,0,0.33), rgba(0,0,0,0))"}},i),v("span",null,v(h,e)),v("span",null,l?v(g,{getStyles:n,innerProps:{onClick:p,title:o(m)}},v(d,{size:32})):null,v(f,{getStyles:n,innerProps:{onClick:u,title:r(m)}},v(_,{size:32}))))},HeaderClose:function(e){var t=e.children,n=e.getStyles,r=e.innerProps;return v(P,y({css:n("headerClose",e),className:O(["header_button","header_button--close"]),type:"button"},r),t)},HeaderFullscreen:function(e){var t=e.children,n=e.getStyles,r=e.innerProps;return v(P,y({css:n("headerFullscreen",e),className:O(["header_button","header_button--fullscreen"]),type:"button"},r),t)},Navigation:function(e){var t=e.children,n=e.getStyles,r=e.isFullscreen,o=e.isModal,i=e.showNavigationOnTouchDevice;return!z()||z()&&i?v(I,{css:n("navigation",e),className:O("navigation",{isFullscreen:r,isModal:o})},t):null},NavigationPrev:function(e){var t=e.children,n=void 0===t?v(E,{size:48}):t,r=e.getStyles,o=e.innerProps;return v(P,y({type:"button",css:r("navigationPrev",e)},o),n)},NavigationNext:function(e){var t=e.children,n=void 0===t?v(N,{size:48}):t,r=e.getStyles,o=e.innerProps;return v(P,y({type:"button",css:r("navigationNext",e)},o),n)},View:function(e){var t,n,r,o,i,s=e.data,a=e.formatters,l=e.getStyles,c=e.index,u=e.isFullscreen,p=e.isModal,d={alt:a.getAltText({data:s,index:c}),src:(n=(t={data:s,isFullscreen:u}).data,r=t.isFullscreen,o=n.source,"string"==typeof(i=void 0===o?n.src:o)?i:r?i.fullscreen:i.regular)};return v(C,{css:l(J,e),className:O(J,{isFullscreen:u,isModal:p})},v(k,y({},d,{className:O("view-image",{isFullscreen:u,isModal:p}),css:{height:"auto",maxHeight:"100%",maxWidth:"100%",userSelect:"none"}})))}},X={Blanket:function(e){var t=e.getStyles,n=e.innerProps,r=e.isFullscreen;return v(C,y({css:t("blanket",e),className:O("blanket",{isFullscreen:r})},n))},Positioner:function(e){var t=e.children,n=e.getStyles,r=e.innerProps,o=e.isFullscreen;return v(C,y({css:n(B.Positioner,e),className:O(B.Positioner,{isFullscreen:o})},r),t)},Dialog:function(e){var t=e.children,n=e.getStyles,r=e.innerProps,o=e.isFullscreen;return e.removeFocusOn?v(C,y({css:n("dialog",e),className:O("dialog",{isFullscreen:o})},r),t):v(i.FocusOn,null,v(C,y({css:n("dialog",e),className:O("dialog",{isFullscreen:o})},r),t))}},Z={container:function(e){return{backgroundColor:e.isFullscreen?"black":null,display:"flex ",flexDirection:"column",height:"100%"}},footer:function(e){var t=e.isModal,n=e.interactionIsIdle;return f({alignItems:"top",bottom:t?0:null,color:t?"rgba(255, 255, 255, 0.9)":"#666",display:"flex ",flex:"0 0 auto",fontSize:13,justifyContent:"space-between",left:t?0:null,opacity:n&&t?0:1,padding:t?"30px 20px 20px":"10px 0",position:t?"absolute":null,right:t?0:null,transform:t?"translateY("+(n?10:0)+"px)":null,transition:"opacity 300ms, transform 300ms",zIndex:t?1:null,"& *:focus":{outline:"1.5px solid orange"}},"@media (max-width: 769px)",{padding:t?"20px 15px 15px":"5px 0"})},footerCaption:function(){return{}},footerCount:function(){return{flexShrink:0,marginLeft:"1em"}},header:function(e){var t=e.interactionIsIdle;return{alignItems:"center",display:"flex ",flex:"0 0 auto",justifyContent:"space-between",opacity:t?0:1,padding:10,paddingBottom:20,position:"absolute",transform:"translateY("+(t?-10:0)+"px)",transition:"opacity 300ms, transform 300ms",top:0,left:0,right:0,zIndex:1,"& *:focus":{outline:"1.5px solid orange"}}},headerClose:R,headerFullscreen:q,navigation:function(e){return{display:"flex ",alignItems:"center",justifyContent:"space-between",opacity:e.interactionIsIdle?0:1,transition:"opacity 300ms","& *:focus":{outline:"1.5px solid orange"}}},navigationPrev:W,navigationNext:U,view:function(){return{lineHeight:0,position:"relative",textAlign:"center"}}},$={blanket:function(e){return{backgroundColor:e.isFullscreen?"black":"rgba(0, 0, 0, 0.8)",bottom:0,left:0,position:"fixed",right:0,top:0,zIndex:1199}},dialog:function(){return{width:"100%"}},positioner:function(){return{alignItems:"center",bottom:0,display:"flex ",justifyContent:"center",left:0,position:"fixed",right:0,top:0,zIndex:1200}}},ee="cubic-bezier(0.23, 1, 0.32, 1)",te={allowFullscreen:!z(),closeOnBackdropClick:!0,closeOnEsc:!0,preventScroll:!0,styles:{}},ne=new Set([B.View,B.Header,B.Footer,B.Track,B.Positioner].map(O)),re=(Y=d.Component,n(oe,Y),t(oe,[{key:"componentDidUpdate",value:function(e){e.components!==this.props.components&&this.cacheComponents(e.components)}},{key:"getCommonProps",value:function(){var e=this.state.isFullscreen;return{getStyles:this.getStyles,isFullscreen:e,modalProps:this.props}}},{key:"render",value:function(){var e=this.components,t=e.Blanket,n=e.Positioner,r=e.Dialog,o=this.props,i=o.allowFullscreen,s=o.children,a=this.state.isFullscreen,l=this.commonProps=this.getCommonProps(),c=this.props.in,u={allowFullscreen:i,isFullscreen:a,onClose:this.handleClose,preventScroll:this.preventScroll,toggleFullscreen:this.toggleFullscreen},p=d.cloneElement(s,{isModal:!0,modalProps:u});return v(h,{enabled:a,onChange:this.handleFullscreenChange},v(K,y({},l,{component:t,in:c})),v(G,y({},l,{component:n,in:c,innerProps:{onClick:this.state.isClosing?null:this.handleBackdropClick},onEntered:this.modalDidMount,onExited:this.modalWillUnmount}),v(r,y({removeFocusOn:this.state.isClosing},l),p)))}}]),oe);function oe(e){c(this,oe);var t=m(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this,e));return ie.call(t),t.cacheComponents(e.components),t.state={isFullscreen:!1,isClosing:!1},t}re.defaultProps=te;var ie=function(){var l=this;this.modalDidMount=function(){document.addEventListener("keyup",l.handleKeyUp),e.storeFocus()},this.modalWillUnmount=function(){document.removeEventListener("keyup",l.handleKeyUp),e.restoreFocus(),l.setState({isClosing:!1})},this.cacheComponents=function(e){l.components=y({},X,e)},this.handleFullscreenChange=function(e){l.setState({isFullscreen:e})},this.handleKeyUp=function(e){var t=l.props,n=t.allowFullscreen,r=t.closeOnEsc,o=l.state.isFullscreen,i="Escape"===e.key&&r&&!o;n&&"f"===e.key&&l.toggleFullscreen(),i&&l.handleClose(e)},this.handleBackdropClick=function(e){var t=!1,n=!0,r=!1,o=void 0;try{for(var i,s=e.target.classList[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=i.value;ne.has(a)&&(t=!0)}}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}t&&l.props.closeOnBackdropClick&&l.handleClose(e)},this.toggleFullscreen=function(){l.setState(function(e){return{isFullscreen:!e.isFullscreen}})},this.handleClose=function(e){var t=l.props.onClose,n=l.state.isFullscreen;l.setState({isClosing:!0}),n&&l.toggleFullscreen(),t(e)},this.getStyles=function(e,t){var n=$[e](t);n.boxSizing="border-box";var r=l.props.styles[e];return r?r(n,t):n}};var se,ae={flex:"1 1 auto",position:"relative"},le={outline:0},ce={currentIndex:0,formatters:{getAltText:function(e){var t=e.data,n=e.index;return t.alt?("string"!=typeof t.alt&&console.error("Image "+(n+1)+" had a non-string alt property, which will probably render incorrectly.\nInstead of a plain string it was ",t.alt),t.alt):t.caption?("string"!=typeof t.caption&&console.warn("Image "+(n+1)+" has a non-string caption, but no alt value provided. This will probably make the alt prop unintelligible for screen readers. Is this intentional?"),t.caption):"Image "+(n+1)},getNextLabel:function(e){return"Show slide "+(e.currentIndex+2)+" of "+e.views.length},getPrevLabel:function(e){return"Show slide "+e.currentIndex+" of "+e.views.length},getNextTitle:function(e){return"Next (right arrow)"},getPrevTitle:function(e){return"Previous (left arrow)"},getCloseLabel:function(e){return"Close (esc)"},getFullscreenLabel:function(e){return e.isFullscreen?"Exit fullscreen (f)":"Enter fullscreen (f)"}},hideControlsWhenIdle:3e3,showNavigationOnTouchDevice:!1,styles:{},trackProps:{instant:!z(),swipe:"touch"}},ue=B.Track,pe=(se=d.Component,n(de,se),t(de,[{key:"componentDidMount",value:function(){var e=this.props,t=e.hideControlsWhenIdle,n=e.modalProps,r=Boolean(n);this.mounted=!0,t&&this.container&&(this.container.addEventListener("mousedown",this.handleMouseActivity),this.container.addEventListener("mousemove",this.handleMouseActivity),this.container.addEventListener("touchmove",this.handleMouseActivity)),r&&this.focusViewFrame()}},{key:"componentDidUpdate",value:function(e){e.components!==this.props.components&&this.cacheComponents(e.components),this.props.currentIndex!==e.currentIndex&&this.setState({currentIndex:this.props.currentIndex})}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.props.hideControlsWhenIdle&&this.container&&(this.container.removeEventListener("mousedown",this.handleMouseActivity),this.container.removeEventListener("mousemove",this.handleMouseActivity),this.container.removeEventListener("touchmove",this.handleMouseActivity),this.handleMouseActivity.cancel())}},{key:"getCommonProps",value:function(){var e=this.props,t=e.frameProps,n=e.trackProps,r=e.modalProps,o=e.views,i=e.showNavigationOnTouchDevice,s=Boolean(r),a=Boolean(r&&r.isFullscreen),l=this.state,c=l.currentIndex,u=l.interactionIsIdle,p=this.getViewData();return{carouselProps:this.props,currentIndex:c,currentView:p,formatters:this.props.formatters,frameProps:t,getStyles:this.getStyles,showNavigationOnTouchDevice:i,isFullscreen:a,isModal:s,modalProps:r,interactionIsIdle:u,trackProps:n,views:o}}},{key:"render",value:function(){var e=this.components,t=e.Container,n=e.View,r=this.state.currentIndex,o=this.props,i=o.frameProps,s=o.views,a=this.commonProps=this.getCommonProps();return v(t,y({},a,{innerProps:{innerRef:this.getContainer}}),this.renderHeader(),v(l.ViewPager,{tag:"main",style:ae,className:O("pager")},v(l.Frame,y({},i,{ref:this.getFrame,className:O("frame"),style:le,tabIndex:"-1"}),v(l.Track,y({},this.getTrackProps(this.props),{style:{display:"flex",alignItems:"center"},currentView:r,className:O(ue),onViewChange:this.handleViewChange,ref:this.getTrack}),s&&s.map(function(e,t){return v(l.View,{className:O("view-wrapper"),key:t},"image"===e.type?v(n,y({},a,{data:e,index:t})):v(x,y({},a,{data:e,index:t})))}))),this.renderNavigation()),this.renderFooter())}}]),de);function de(e){c(this,de);var t=m(this,(de.__proto__||Object.getPrototypeOf(de)).call(this,e));return ge.call(t),t.cacheComponents(e.components),t.state={currentIndex:e.currentIndex,interactionIsIdle:z()},t}pe.defaultProps=ce;function he(e){var t=e.children;return d.Children.toArray(t)[0]||null}var fe,ge=function(){var d=this;this.mounted=!1,this.cacheComponents=function(e){d.components=y({},Q,e)},this.getContainer=function(e){d.container=e},this.getFooter=function(e){d.footer=e},this.getFrame=function(e){d.frame=r.findDOMNode(e)},this.getHeader=function(e){d.header=e},this.getTrack=function(e){d.track=e},this.hasPreviousView=function(){var e=d.props.trackProps,t=d.state.currentIndex;return e.infinite||0!==t},this.hasNextView=function(){var e=d.props,t=e.trackProps,n=e.views,r=d.state.currentIndex;return t.infinite||r!==n.length-1},this.getStyles=function(e,t){var n=Z[e](t);n.boxSizing="border-box";var r=d.props.styles[e];return r?r(n,t):n},this.getTrackProps=function(e){return y({},ce.trackProps,e.trackProps)},this.getFormatters=function(){return y({},ce.formatters,d.props.formatters)},this.getViewData=function(){return d.props.views[d.state.currentIndex]},this.focusViewFrame=function(){d.frame&&document.activeElement!==d.frame&&d.frame.focus()},this.prev=function(e){e.stopPropagation(),d.track.prev(),d.focusViewFrame()},this.next=function(e){e.stopPropagation(),d.track.next(),d.focusViewFrame()},this.handleMouseActivity=s(function(){clearTimeout(d.timer),d.state.interactionIsIdle&&d.setState({interactionIsIdle:!1}),d.timer=setTimeout(function(){d.mounted&&d.setState({interactionIsIdle:!0})},d.props.hideControlsWhenIdle)}),this.handleViewChange=function(e){var t=d.props.trackProps,n=e[0];d.setState({currentIndex:n}),t&&t.onViewChange&&t.onViewChange(n)},this.renderNavigation=function(){var e=d.getFormatters(),t=e.getNextLabel,n=e.getPrevLabel,r=e.getNextTitle,o=e.getPrevTitle,i=d.components,s=i.Navigation,a=i.NavigationPrev,l=i.NavigationNext,c=d.commonProps,u=d.hasPreviousView(),p=d.hasNextView();return(u||p)&&s?v(s,c,u&&v(a,y({},c,{align:"left",innerProps:{"aria-label":n(c),onClick:d.prev,title:o(c)}})),p&&v(l,y({},c,{align:"right",innerProps:{"aria-label":t(c),onClick:d.next,title:r(c)}}))):null},this.renderFooter=function(){var e=d.components,t=e.Footer,n=e.FooterCaption,r=(e.FooterCount,d.commonProps);return t?v(t,y({},r,{components:{Caption:n},innerProps:{innerRef:d.getFooter}})):null},this.renderHeader=function(){var e=d.components,t=e.Header,n=e.HeaderClose,r=e.HeaderFullscreen,o=e.FooterCount,i=d.getFormatters(),s=i.getCloseLabel,a=i.getFullscreenLabel,l=d.commonProps;return t?v(t,y({},l,{getCloseLabel:s,getFullscreenLabel:a,components:{CloseButton:n,FullscreenButton:r,FooterCount:o},data:d.getViewData(),innerProps:{innerRef:d.getHeader}})):null}},me=(fe=d.Component,n(ve,fe),t(ve,[{key:"render",value:function(){if("undefined"==typeof window)return null;var e=this.props,t=e.target,n=e.children;return r.createPortal(p.createElement(u.TransitionGroup,{component:he,children:n}),t)}}]),ve);function ve(){return c(this,ve),m(this,(ve.__proto__||Object.getPrototypeOf(ve)).apply(this,arguments))}return me.defaultProps={target:"undefined"!=typeof window?document.body:null},pe.ModalGateway=me,pe.Modal=re,pe.carouselComponents=Q,pe.modalComponents=X,pe});
